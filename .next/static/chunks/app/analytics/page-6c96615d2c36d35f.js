(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{65372:function(e,t,s){Promise.resolve().then(s.bind(s,51603))},51603:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var n=s(57437),r=s(2265),i=s(1899),a=s(35389),o=s(5002),c=s(41327),l=s(10020),d=s(33833),h=s(42187),x=s(94013),u=s(89414),m=s(67208),j=s(36137),v=s(67571),Z=s(30482),p=s(23478),b=s(36718),f=s(70412),y=s(29946),g=s(72549),E=s(29541),R=s(82406),P=s(66894),I=s(29821),w=s(30275),S=s(47625),A=s(21156),C=s(56940),D=s(97059),T=s(62994),N=s(8147),k=s(54061),L=s(75169),W=s(3574),U=s(20407),F=s(77031),_=s(31699),z=s(5481),K=s(23263);let O=[{month:"Jan",active:150,new:25,cancelled:5},{month:"Feb",active:170,new:30,cancelled:10},{month:"Mar",active:195,new:35,cancelled:8},{month:"Apr",active:220,new:40,cancelled:12},{month:"May",active:248,new:45,cancelled:15},{month:"Jun",active:273,new:50,cancelled:18}],B=[{name:"Basic",value:45,color:"#8884d8"},{name:"Premium",value:35,color:"#82ca9d"},{name:"Enterprise",value:20,color:"#ffc658"}],M=[{month:"Jan",devices:342,activations:45},{month:"Feb",devices:378,activations:52},{month:"Mar",devices:415,activations:58},{month:"Apr",devices:452,activations:65},{month:"May",devices:489,activations:72},{month:"Jun",devices:526,activations:78}],G=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1"];function V(){var e,t,s,V,H,Y;let[q,J]=(0,r.useState)("6months"),[$,X]=(0,r.useState)("revenue"),[Q,ee]=(0,r.useState)(null),{dashboardData:et,subscriptionAnalytics:es,deviceAnalytics:en,revenueData:er,systemHealth:ei,isLoadingDashboard:ea,isLoadingSubscriptions:eo,isLoadingDevices:ec,isLoadingRevenue:el,error:ed,refreshDashboard:eh,fetchSubscriptionAnalytics:ex,fetchDeviceAnalytics:eu,fetchRevenueAnalytics:em,fetchSystemHealth:ej}=(0,Z.z)();(0,r.useEffect)(()=>{(async()=>{try{await Promise.all([eh(),ex(),eu(),em(),ej()])}catch(e){console.error("Error fetching analytics:",e),ee("Failed to load analytics data")}})()},[q]);let ev=async()=>{try{ee(null),await Promise.all([eh(),ex(),eu(),em(),ej()])}catch(e){console.error("Error refreshing analytics:",e),ee("Failed to refresh analytics data")}};return ea||eo||ec||el?(0,n.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,n.jsx)(a.Z,{size:48})}):(0,n.jsxs)(i.Z,{sx:{p:3},children:[(0,n.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"#1e293b"},children:"Analytics Dashboard"}),(0,n.jsx)(o.Z,{variant:"subtitle1",sx:{color:"#64748b",mt:1},children:"Comprehensive insights and performance metrics"})]}),(0,n.jsxs)(i.Z,{sx:{display:"flex",gap:2},children:[(0,n.jsxs)(c.Z,{size:"small",sx:{minWidth:120},children:[(0,n.jsx)(l.Z,{children:"Time Range"}),(0,n.jsxs)(d.Z,{value:q,onChange:e=>J(e.target.value),label:"Time Range",children:[(0,n.jsx)(h.Z,{value:"7days",children:"Last 7 days"}),(0,n.jsx)(h.Z,{value:"30days",children:"Last 30 days"}),(0,n.jsx)(h.Z,{value:"3months",children:"Last 3 months"}),(0,n.jsx)(h.Z,{value:"6months",children:"Last 6 months"}),(0,n.jsx)(h.Z,{value:"1year",children:"Last year"})]})]}),(0,n.jsx)(x.Z,{variant:"outlined",startIcon:(0,n.jsx)(p.Z,{}),onClick:ev,children:"Refresh"}),(0,n.jsx)(x.Z,{variant:"contained",startIcon:(0,n.jsx)(b.Z,{}),onClick:()=>{console.log("Exporting analytics data...")},children:"Export"})]})]}),(0,n.jsxs)(u.ZP,{container:!0,spacing:3,sx:{mb:4},children:[(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(f.Z,{sx:{fontSize:40,color:"#10b981",mb:1}}),(0,n.jsxs)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:["$",(null==et?void 0:null===(e=et.monthlyRevenue)||void 0===e?void 0:e.toLocaleString())||"0"]}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Monthly Revenue"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(y.Z,{}),label:"+".concat((null==et?void 0:null===(t=et.growthRate)||void 0===t?void 0:t.toFixed(1))||"0","%"),color:"success",size:"small",sx:{mt:1}})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(g.Z,{sx:{fontSize:40,color:"#3b82f6",mb:1}}),(0,n.jsx)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:(null==et?void 0:et.totalSubscriptions)||0}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Total Subscriptions"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(y.Z,{}),label:"+".concat((null==et?void 0:null===(s=et.growthRate)||void 0===s?void 0:s.toFixed(1))||"0","%"),color:"success",size:"small",sx:{mt:1}})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(E.Z,{sx:{fontSize:40,color:"#8b5cf6",mb:1}}),(0,n.jsx)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:(null==et?void 0:et.totalDevices)||0}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Total Devices"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(y.Z,{}),label:"+".concat((null==et?void 0:null===(V=et.growthRate)||void 0===V?void 0:V.toFixed(1))||"0","%"),color:"success",size:"small",sx:{mt:1}})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(R.Z,{sx:{fontSize:40,color:"#f59e0b",mb:1}}),(0,n.jsxs)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:[(null==et?void 0:null===(H=et.churnRate)||void 0===H?void 0:H.toFixed(1))||"0.0","%"]}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Churn Rate"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(P.Z,{}),label:"-2.1%",color:"success",size:"small",sx:{mt:1}})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(y.Z,{sx:{fontSize:40,color:"#10b981",mb:1}}),(0,n.jsxs)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:[(null==et?void 0:null===(Y=et.growthRate)||void 0===Y?void 0:Y.toFixed(1))||"0.0","%"]}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Growth Rate"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(y.Z,{}),label:"+3.2%",color:"success",size:"small",sx:{mt:1}})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:2,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,n.jsx)(f.Z,{sx:{fontSize:40,color:"#6366f1",mb:1}}),(0,n.jsxs)(o.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:["$",(null==et?void 0:et.monthlyRevenue)&&(null==et?void 0:et.totalSubscriptions)?(et.monthlyRevenue/et.totalSubscriptions).toFixed(0):"0"]}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"ARPU"}),(0,n.jsx)(v.Z,{icon:(0,n.jsx)(y.Z,{}),label:"+5.7%",color:"success",size:"small",sx:{mt:1}})]})})})]}),(0,n.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(u.ZP,{item:!0,xs:12,md:8,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(o.Z,{variant:"h6",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"Subscription Trends"}),(0,n.jsx)(S.h,{width:"100%",height:300,children:(0,n.jsxs)(A.w,{data:O,children:[(0,n.jsx)(C.q,{strokeDasharray:"3 3"}),(0,n.jsx)(D.K,{dataKey:"month"}),(0,n.jsx)(T.B,{}),(0,n.jsx)(N.u,{}),(0,n.jsx)(k.x,{type:"monotone",dataKey:"active",stroke:"#3b82f6",strokeWidth:2}),(0,n.jsx)(k.x,{type:"monotone",dataKey:"new",stroke:"#10b981",strokeWidth:2}),(0,n.jsx)(k.x,{type:"monotone",dataKey:"cancelled",stroke:"#ef4444",strokeWidth:2})]})})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(o.Z,{variant:"h6",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"Subscription Tiers"}),(0,n.jsx)(S.h,{width:"100%",height:300,children:(0,n.jsxs)(L.u,{children:[(0,n.jsx)(W.b,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.map((e,t)=>(0,n.jsx)(U.b,{fill:G[t%G.length]},"cell-".concat(t)))}),(0,n.jsx)(N.u,{})]})})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,md:8,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(o.Z,{variant:"h6",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"Revenue vs Target"}),(0,n.jsx)(S.h,{width:"100%",height:300,children:(0,n.jsxs)(F.v,{data:er,children:[(0,n.jsx)(C.q,{strokeDasharray:"3 3"}),(0,n.jsx)(D.K,{dataKey:"month"}),(0,n.jsx)(T.B,{}),(0,n.jsx)(N.u,{}),(0,n.jsx)(_.$,{dataKey:"revenue",fill:"#3b82f6"}),(0,n.jsx)(_.$,{dataKey:"target",fill:"#e5e7eb"})]})})]})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(o.Z,{variant:"h6",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"Device Usage"}),(0,n.jsx)(S.h,{width:"100%",height:300,children:(0,n.jsxs)(z.T,{data:M,children:[(0,n.jsx)(C.q,{strokeDasharray:"3 3"}),(0,n.jsx)(D.K,{dataKey:"month"}),(0,n.jsx)(T.B,{}),(0,n.jsx)(N.u,{}),(0,n.jsx)(K.u,{type:"monotone",dataKey:"devices",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),(0,n.jsx)(K.u,{type:"monotone",dataKey:"activations",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d"})]})})]})})})]}),(0,n.jsx)(u.ZP,{container:!0,spacing:3,sx:{mt:2},children:(0,n.jsx)(u.ZP,{item:!0,xs:12,children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(o.Z,{variant:"h6",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"System Health Status"}),(0,n.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"#f0f9ff",borderRadius:1},children:[(0,n.jsx)(I.Z,{sx:{color:"#10b981",mr:2}}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"API Response Time"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"125ms (Excellent)"})]})]})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"#f0f9ff",borderRadius:1},children:[(0,n.jsx)(I.Z,{sx:{color:"#10b981",mr:2}}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Database Performance"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"23ms (Excellent)"})]})]})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"#fffbeb",borderRadius:1},children:[(0,n.jsx)(w.Z,{sx:{color:"#f59e0b",mr:2}}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Cache Hit Rate"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"82% (Good)"})]})]})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"#f0f9ff",borderRadius:1},children:[(0,n.jsx)(I.Z,{sx:{color:"#10b981",mr:2}}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Server Uptime"}),(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"99.98% (Excellent)"})]})]})})]})]})})})})]})}},28223:function(e,t,s){"use strict";s.d(t,{x:function(){return i}});let n=s(83464).Z.create({baseURL:"http://localhost:8000",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t,s,n,r,i;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),(null===(s=e.response)||void 0===s?void 0:s.status)===403&&console.error("Permission denied"),(null===(n=e.response)||void 0===n?void 0:n.status)>=500&&console.error("Server error:",(null===(i=e.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.message)||e.message),Promise.reject(e)});class r{async get(e,t){try{let s=await this.instance.get(e,t);return{success:!0,data:s.data}}catch(e){return this.handleError(e)}}async post(e,t,s){try{let n=await this.instance.post(e,t,s);return{success:!0,data:n.data}}catch(e){return this.handleError(e)}}async put(e,t,s){try{let n=await this.instance.put(e,t,s);return{success:!0,data:n.data}}catch(e){return this.handleError(e)}}async patch(e,t,s){try{let n=await this.instance.patch(e,t,s);return{success:!0,data:n.data}}catch(e){return this.handleError(e)}}async delete(e,t){try{let s=await this.instance.delete(e,t);return{success:!0,data:s.data}}catch(e){return this.handleError(e)}}handleError(e){if(e.response){var t;return{success:!1,error:(null===(t=e.response.data)||void 0===t?void 0:t.message)||e.response.statusText}}return e.request?{success:!1,error:"Network error - please check your internet connection"}:{success:!1,error:e.message||"An unexpected error occurred"}}async uploadFile(e,t,s){let n=new FormData;n.append("file",t);try{let t=await this.instance.post(e,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(s&&e.total){let t=Math.round(100*e.loaded/e.total);s(t)}}});return{success:!0,data:t.data}}catch(e){return this.handleError(e)}}async downloadFile(e,t){try{let s=await this.instance.get(e,{responseType:"blob"}),n=new Blob([s.data]),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t,r.click(),window.URL.revokeObjectURL(r.href)}catch(e){throw console.error("File download failed:",e),e}}setAuthToken(e){this.instance.defaults.headers.Authorization="Bearer ".concat(e)}clearAuthToken(){delete this.instance.defaults.headers.Authorization}constructor(){this.instance=n}}let i=new r},6481:function(e,t,s){"use strict";var n,r,i,a,o,c,l,d,h,x,u,m,j,v,Z,p,b,f,y,g;s.d(t,{QV:function(){return r},XL:function(){return c},uG:function(){return l}}),(u=n||(n={})).ACTIVE="active",u.EXPIRED="expired",u.CANCELLED="cancelled",u.SUSPENDED="suspended",u.PENDING="pending",(m=r||(r={})).BASIC="basic",m.PROFESSIONAL="professional",m.ENTERPRISE="enterprise",(j=i||(i={})).ACTIVE="active",j.INACTIVE="inactive",j.SUSPENDED="suspended",j.DELETED="deleted",(v=a||(a={})).ACTIVE="active",v.INACTIVE="inactive",v.SUSPENDED="suspended",v.REVOKED="revoked",(Z=o||(o={})).PENDING="pending",Z.PROCESSING="processing",Z.COMPLETED="completed",Z.FAILED="failed",Z.CANCELLED="cancelled",Z.REFUNDED="refunded",Z.PARTIALLY_REFUNDED="partially_refunded",Z.EXPIRED="expired",(p=c||(c={})).MANUAL="manual",p.BANK_TRANSFER="bank_transfer",p.CREDIT_CARD="credit_card",p.DEBIT_CARD="debit_card",p.PAYPAL="paypal",p.STRIPE="stripe",p.CASH="cash",p.CHECK="check",p.WIRE_TRANSFER="wire_transfer",p.CRYPTOCURRENCY="cryptocurrency",p.OTHER="other",(b=l||(l={})).SUBSCRIPTION="subscription",b.RENEWAL="renewal",b.UPGRADE="upgrade",b.REFUND="refund",(f=d||(d={})).ADMIN="admin",f.MANAGER="manager",f.SUPPORT="support",f.VIEWER="viewer",(y=h||(h={})).SYSTEM="system",y.SECURITY="security",y.SUBSCRIPTION="subscription",y.DEVICE="device",y.BILLING="billing",(g=x||(x={})).LOW="low",g.MEDIUM="medium",g.HIGH="high",g.CRITICAL="critical"}},function(e){e.O(0,[355,152,425,593,414,186,482,971,117,744],function(){return e(e.s=65372)}),_N_E=e.O()}]);
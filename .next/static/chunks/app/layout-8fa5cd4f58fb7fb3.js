(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{79815:function(n,e,t){Promise.resolve().then(t.bind(t,89802))},73310:function(n,e,t){"use strict";t.d(e,{Ho:function(){return s},aC:function(){return l}});var r=t(57437),o=t(2265);let i={user:null,token:null,isAuthenticated:!1,loading:!0,error:null},a=(0,o.createContext)({...i,login:async()=>{},logout:()=>{},clearError:()=>{}}),s=n=>{let{children:e}=n,[t,s]=(0,o.useState)(i);(0,o.useEffect)(()=>{(async()=>{try{let n=localStorage.getItem("auth_token"),e=localStorage.getItem("auth_user");if(n&&e){let t=JSON.parse(e);s({user:t,token:n,isAuthenticated:!0,loading:!1,error:null})}else s({...i,loading:!1})}catch(n){console.error("Failed to initialize auth:",n),s({...i,loading:!1,error:"Failed to initialize authentication"})}})()},[]);let l=async(n,e)=>{s(n=>({...n,loading:!0,error:null}));try{if("admin@flowlytix.com"===n&&"admin"===e){let n={id:"1",email:"admin@flowlytix.com",name:"Admin User",role:"admin",permissions:["read","write","delete"],lastLoginAt:new Date},e="mock-jwt-token";localStorage.setItem("auth_token",e),localStorage.setItem("auth_user",JSON.stringify(n)),s({user:n,token:e,isAuthenticated:!0,loading:!1,error:null})}else throw Error("Invalid credentials")}catch(n){throw s({...i,loading:!1,error:n instanceof Error?n.message:"Login failed"}),n}},d={...t,login:l,logout:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),s({...i,loading:!1})},clearError:()=>{s(n=>({...n,error:null}))}};return(0,r.jsx)(a.Provider,{value:d,children:e})},l=()=>{let n=(0,o.useContext)(a);if(!n)throw Error("useAuth must be used within an AuthProvider");return n}},89802:function(n,e,t){"use strict";t.d(e,{ClientProviders:function(){return no}});var r=t(57437),o=t(89541),i=t(10422),a=t(93062),s=t(64049),l=t(31800),d=t(29827),c=t(14438),h=t(11987),f=t.n(h),p=t(66808);let u={50:"#f0f0ff",100:"#e6e6ff",200:"#d1d1ff",300:"#b3b3ff",400:"#9191ff",500:"#513ff2",600:"#4a38db",700:"#3d2fb8",800:"#312695",900:"#251e72"},x={50:"#f8f9ff",100:"#f1f4ff",200:"#e3e9ff",300:"#d1dcff",400:"#beccff",500:"#6b52f5",600:"#614ade",700:"#5140ba",800:"#413696",900:"#312b72"},g={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},m={50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},b={50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},y={50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},j=(0,p.Z)({palette:{primary:{main:u[500],light:u[300],dark:u[700],contrastText:"#ffffff"},secondary:{main:x[500],light:x[300],dark:x[700],contrastText:"#ffffff"},error:{main:y[500],light:y[300],dark:y[700],contrastText:"#ffffff"},warning:{main:b[500],light:b[300],dark:b[700],contrastText:"#ffffff"},success:{main:m[500],light:m[300],dark:m[700],contrastText:"#ffffff"},grey:g,background:{default:"#ffffff",paper:"#ffffff"},text:{primary:g[900],secondary:g[600],disabled:g[400]}},typography:{fontFamily:f().style.fontFamily,h1:{fontSize:"2.5rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.025em"},h2:{fontSize:"2rem",fontWeight:700,lineHeight:1.3,letterSpacing:"-0.025em"},h3:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4,letterSpacing:"-0.025em"},h4:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4,letterSpacing:"-0.025em"},h5:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4,letterSpacing:"-0.025em"},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.4,letterSpacing:"-0.025em"},body1:{fontSize:"1rem",lineHeight:1.6,color:g[700]},body2:{fontSize:"0.875rem",lineHeight:1.6,color:g[600]},caption:{fontSize:"0.75rem",lineHeight:1.4,color:g[500]},button:{textTransform:"none",fontWeight:600}},shape:{borderRadius:8},spacing:8,components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:600,fontSize:"0.875rem",padding:"8px 16px",boxShadow:"none","&:hover":{boxShadow:"none"}},contained:{background:"linear-gradient(135deg, ".concat(u[500]," 0%, ").concat(x[500]," 100%)"),"&:hover":{background:"linear-gradient(135deg, ".concat(u[600]," 0%, ").concat(x[600]," 100%)")}},outlined:{borderColor:u[500],color:u[500],"&:hover":{borderColor:u[600],backgroundColor:u[50]}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",border:"1px solid ".concat(g[200]),"&:hover":{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"}}},MuiTableHead:{styleOverrides:{root:{backgroundColor:g[50],"& .MuiTableCell-head":{fontWeight:600,fontSize:"0.875rem",color:g[700],textTransform:"uppercase",letterSpacing:"0.05em"}}}},MuiChip:{styleOverrides:{root:{borderRadius:6,fontWeight:500,fontSize:"0.75rem"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:u[400]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:u[500]}}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#ffffff",color:g[900],boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",borderBottom:"1px solid ".concat(g[200])}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#ffffff",borderRight:"1px solid ".concat(g[200]),boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}}}});var v=t(45008);function w(){let n=(0,v._)(["\n  /* CSS Reset and Base Styles */\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  html {\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeLegibility;\n  }\n\n  body {\n    background-color: ",";\n    color: ",";\n    font-family:\n      'Inter',\n      -apple-system,\n      BlinkMacSystemFont,\n      'Segoe UI',\n      'Roboto',\n      'Oxygen',\n      'Ubuntu',\n      'Cantarell',\n      'Fira Sans',\n      'Droid Sans',\n      'Helvetica Neue',\n      sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-x: hidden;\n  }\n\n  /* Custom Scrollbar */\n  ::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: ",";\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: ",";\n  }\n\n  /* Focus Styles */\n  :focus-visible {\n    outline: 2px solid ",";\n    outline-offset: 2px;\n  }\n\n  /* Selection Styles */\n  ::selection {\n    background-color: ",";\n    color: ",";\n  }\n\n  /* Links */\n  a {\n    color: ",";\n    text-decoration: none;\n    transition: color 0.2s ease;\n\n    &:hover {\n      color: ",";\n    }\n\n    &:focus {\n      outline: 2px solid ",";\n      outline-offset: 2px;\n    }\n  }\n\n  /* Headings */\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-weight: 600;\n    line-height: 1.2;\n    margin-bottom: 0.5rem;\n    color: ",";\n  }\n\n  /* Paragraphs */\n  p {\n    margin-bottom: 1rem;\n    color: ",";\n  }\n\n  /* Lists */\n  ul,\n  ol {\n    padding-left: 1.5rem;\n    margin-bottom: 1rem;\n  }\n\n  li {\n    margin-bottom: 0.25rem;\n  }\n\n  /* Images */\n  img {\n    max-width: 100%;\n    height: auto;\n    display: block;\n  }\n\n  /* Buttons */\n  button {\n    cursor: pointer;\n    border: none;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    margin: 0;\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n  }\n\n  /* Form Elements */\n  input,\n  textarea,\n  select {\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    border: 1px solid ",";\n    border-radius: 8px;\n    padding: 0.5rem 0.75rem;\n    background-color: white;\n    transition: border-color 0.2s ease;\n\n    &:focus {\n      outline: none;\n      border-color: ",";\n      box-shadow: 0 0 0 3px ",";\n    }\n\n    &:disabled {\n      background-color: ",";\n      cursor: not-allowed;\n    }\n  }\n\n  /* Tables */\n  table {\n    border-collapse: collapse;\n    width: 100%;\n    margin-bottom: 1rem;\n  }\n\n  th,\n  td {\n    padding: 0.75rem;\n    text-align: left;\n    border-bottom: 1px solid ",";\n  }\n\n  th {\n    background-color: ",";\n    font-weight: 600;\n    color: ",";\n  }\n\n  /* Utility Classes */\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n  }\n\n  .loading {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n\n  .error {\n    color: ",";\n  }\n\n  .success {\n    color: ",";\n  }\n\n  .warning {\n    color: ",";\n  }\n\n  /* Animation Classes */\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateX(-100%);\n    }\n    to {\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n\n  .fade-in {\n    animation: fadeIn 0.3s ease;\n  }\n\n  .slide-in {\n    animation: slideIn 0.3s ease;\n  }\n\n  .pulse {\n    animation: pulse 2s infinite;\n  }\n\n  /* Responsive Design */\n  @media (max-width: 768px) {\n    body {\n      font-size: 14px;\n    }\n\n    h1 {\n      font-size: 2rem;\n    }\n\n    h2 {\n      font-size: 1.5rem;\n    }\n\n    h3 {\n      font-size: 1.25rem;\n    }\n  }\n\n  /* Print Styles */\n  @media print {\n    * {\n      box-shadow: none !important;\n      text-shadow: none !important;\n    }\n\n    body {\n      background: white !important;\n      color: black !important;\n    }\n\n    .no-print {\n      display: none !important;\n    }\n  }\n\n  /* Dark Mode Support (Future Enhancement) */\n  @media (prefers-color-scheme: dark) {\n    /* Dark mode styles will be added here when implementing dark mode */\n  }\n"]);return w=function(){return n},n}let k=(0,t(3146).iv)(w(),g[50],g[900],g[100],g[300],g[400],u[500],u[100],u[900],u[500],u[600],u[500],g[900],g[700],g[300],u[500],u[100],g[100],g[200],g[50],g[700],y[500],m[500],b[500]);var S=t(73310),Z=t(2265),C=t(99376),z=t(1899),I=t(35389),E=t(5002);let F=["/auth/login","/auth/register","/subscriptions","/","/test-subscriptions"],O=n=>{let{children:e}=n,{isAuthenticated:t,loading:o}=(0,S.aC)(),i=(0,C.useRouter)(),a=(0,C.usePathname)();return((0,Z.useEffect)(()=>{!F.includes(a)&&(o||t||i.push("/auth/login"))},[t,o,a,i]),F.includes(a))?(0,r.jsx)(r.Fragment,{children:e}):o?(0,r.jsxs)(z.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",bgcolor:"#f8fafc"},children:[(0,r.jsx)(I.Z,{size:48,sx:{mb:2}}),(0,r.jsx)(E.Z,{variant:"h6",color:"textSecondary",children:"Loading Dashboard..."})]}):t?(0,r.jsx)(r.Fragment,{children:e}):null};var P=t(96207),R=t(94013),W=t(69921),H=t(23478);class M extends Z.Component{static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,e){this.setState({error:n,errorInfo:e})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,r.jsx)(z.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,bgcolor:"background.default"},children:(0,r.jsxs)(P.Z,{elevation:3,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[(0,r.jsx)(W.Z,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,r.jsx)(E.Z,{variant:"h4",component:"h1",gutterBottom:!0,color:"error",children:"Something went wrong"}),(0,r.jsx)(E.Z,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),(0,r.jsxs)(z.Z,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,r.jsx)(R.Z,{variant:"contained",onClick:this.handleReload,startIcon:(0,r.jsx)(H.Z,{}),children:"Reload Page"}),(0,r.jsx)(R.Z,{variant:"outlined",onClick:this.handleReset,children:"Try Again"})]}),!1]})}):this.props.children}constructor(n){super(n),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}}var T=t(67116),D=t(8350),A=t(15273),_=t(73261),B=t(11741),L=t(53431),N=t(67051),U=t(92253),G=t(67696),J=t(621),X=t(57424),Y=t(76070),q=t(83722),Q=t(15116),K=t(27648);let V=[{title:"Dashboard",path:"/",icon:(0,r.jsx)(G.Z,{}),description:"Overview and analytics"},{title:"Customers",path:"/customers",icon:(0,r.jsx)(J.Z,{}),description:"Customer management"},{title:"Subscriptions",path:"/subscriptions",icon:(0,r.jsx)(X.Z,{}),description:"License management"},{title:"Analytics",path:"/analytics",icon:(0,r.jsx)(Y.Z,{}),description:"Reports and insights"}],$=[{title:"Add Customer",path:"/customers/create",icon:(0,r.jsx)(q.Z,{}),description:"Register new customer"},{title:"Generate License",path:"/subscriptions/create",icon:(0,r.jsx)(X.Z,{}),description:"Create subscription"}],nn=n=>{var e;let{window:t}=n,o=(0,C.useRouter)(),i=(0,C.usePathname)(),{user:a,logout:s}=(0,S.aC)(),l=async()=>{await s(),o.push("/auth/login")},d=n=>"/"===n?"/"===i:i.startsWith(n),c=(0,r.jsxs)(z.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsxs)(z.Z,{sx:{p:3,background:"linear-gradient(135deg, #B4C7E3 0%, #FCF2E8 100%)",color:"#1e293b"},children:[(0,r.jsx)(E.Z,{variant:"h6",component:"div",fontWeight:"bold",children:"Flowlytix Dashboard"}),(0,r.jsx)(E.Z,{variant:"body2",sx:{opacity:.8},children:"Subscription Management"})]}),a&&(0,r.jsx)(z.Z,{sx:{p:2,background:"linear-gradient(135deg, #FCF2E8 0%, #B4C7E3 50%)",borderBottom:"1px solid rgba(180, 199, 227, 0.3)"},children:(0,r.jsxs)(z.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(T.Z,{sx:{background:"linear-gradient(135deg, #B4C7E3 0%, #FCF2E8 100%)",color:"#1e293b",fontWeight:"bold"},children:null===(e=a.name)||void 0===e?void 0:e.charAt(0).toUpperCase()}),(0,r.jsxs)(z.Z,{sx:{flex:1},children:[(0,r.jsx)(E.Z,{variant:"subtitle2",fontWeight:600,sx:{color:"#1e293b"},children:a.name}),(0,r.jsx)(E.Z,{variant:"body2",sx:{color:"rgba(30, 41, 59, 0.7)"},children:a.email})]})]})}),(0,r.jsx)(D.Z,{}),(0,r.jsxs)(z.Z,{sx:{flex:1,overflow:"auto"},children:[(0,r.jsx)(A.Z,{sx:{px:1,py:2},children:V.map(n=>(0,r.jsx)(_.ZP,{disablePadding:!0,sx:{mb:.5},children:(0,r.jsx)(K.default,{href:n.path,style:{textDecoration:"none",width:"100%"},children:(0,r.jsxs)(B.Z,{selected:d(n.path),sx:{borderRadius:2,"&.Mui-selected":{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},"& .MuiListItemIcon-root":{color:"white"}}},children:[(0,r.jsx)(L.Z,{sx:{color:d(n.path)?"white":"action.active"},children:n.icon}),(0,r.jsx)(N.Z,{primary:n.title,secondary:n.description,primaryTypographyProps:{fontWeight:d(n.path)?600:400},secondaryTypographyProps:{sx:{color:d(n.path)?"rgba(255,255,255,0.7)":"textSecondary",fontSize:"0.75rem"}}})]})})},n.path))}),(0,r.jsx)(D.Z,{sx:{mx:2}}),(0,r.jsxs)(z.Z,{sx:{p:2},children:[(0,r.jsx)(E.Z,{variant:"overline",color:"textSecondary",fontWeight:"bold",sx:{mb:1,display:"block"},children:"Quick Actions"}),(0,r.jsx)(A.Z,{sx:{p:0},children:$.map(n=>(0,r.jsx)(_.ZP,{disablePadding:!0,sx:{mb:.5},children:(0,r.jsx)(K.default,{href:n.path,style:{textDecoration:"none",width:"100%"},children:(0,r.jsxs)(B.Z,{sx:{borderRadius:2,py:.5,"&:hover":{bgcolor:"action.hover"}},children:[(0,r.jsx)(L.Z,{sx:{minWidth:36},children:n.icon}),(0,r.jsx)(N.Z,{primary:n.title,secondary:n.description,primaryTypographyProps:{fontSize:"0.875rem"},secondaryTypographyProps:{fontSize:"0.75rem"}})]})})},n.path))})]})]}),(0,r.jsx)(D.Z,{}),(0,r.jsx)(z.Z,{sx:{p:2},children:(0,r.jsx)(R.Z,{fullWidth:!0,variant:"outlined",startIcon:(0,r.jsx)(Q.Z,{}),onClick:l,sx:{mb:1},children:"Logout"})})]});return(0,r.jsx)(z.Z,{sx:{display:"flex"},children:(0,r.jsx)(z.Z,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"navigation",children:(0,r.jsx)(U.ZP,{container:void 0!==t?()=>t().document.body:void 0,variant:"permanent",open:!0,sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,borderRight:"1px solid",borderColor:"divider"}},children:c})})})},ne=n=>{let{children:e}=n;return(0,r.jsxs)(z.Z,{sx:{display:"flex",minHeight:"100vh"},children:[(0,r.jsx)(nn,{}),(0,r.jsx)(z.Z,{component:"main",sx:{flexGrow:1,background:"linear-gradient(135deg, rgba(252, 242, 232, 0.05) 0%, rgba(180, 199, 227, 0.05) 100%)",minHeight:"100vh"},children:e})]})},nt=n=>{let{children:e}=n,t=(0,C.usePathname)();return["/auth/login","/auth/register","/auth/forgot-password"].some(n=>t.startsWith(n))?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(ne,{children:e})},nr=new l.S({defaultOptions:{queries:{staleTime:3e5,retry:3,refetchOnWindowFocus:!1},mutations:{retry:1}}});function no(n){let{children:e}=n;return(0,r.jsx)(o.Z,{children:(0,r.jsx)(d.aH,{client:nr,children:(0,r.jsxs)(i.Z,{theme:j,children:[(0,r.jsx)(a.ZP,{}),(0,r.jsx)(s.Z,{styles:k}),(0,r.jsx)(M,{children:(0,r.jsxs)(S.Ho,{children:[(0,r.jsx)(O,{children:(0,r.jsx)(nt,{children:e})}),(0,r.jsx)(c.x7,{position:"top-right",toastOptions:{duration:5e3,style:{background:"#fff",color:"#1a1a1a",border:"1px solid #e0e0e0",fontSize:"14px"}}})]})}),!1]})})})}}},function(n){n.O(0,[889,355,160,261,377,971,117,744],function(){return n(n.s=79815)}),_N_E=n.O()}]);
"use strict";exports.id=571,exports.ids=[571],exports.modules={75887:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(51426),n=a(10326);let s=(0,r.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},54640:(e,t,a)=>{a.d(t,{z:()=>l});var r=a(17577),n=a(51471),s=a(35342);let i=[{period:"Jan 2024",newSubscriptions:25,renewedSubscriptions:18,cancelledSubscriptions:5,revenue:12500,averageLifetime:8.5,topTiers:[{tier:s.QV.PROFESSIONAL,count:15,revenue:7500,percentage:60},{tier:s.QV.BASIC,count:8,revenue:3200,percentage:32},{tier:s.QV.ENTERPRISE,count:2,revenue:1800,percentage:8}]},{period:"Feb 2024",newSubscriptions:30,renewedSubscriptions:22,cancelledSubscriptions:3,revenue:15800,averageLifetime:9.2,topTiers:[{tier:s.QV.PROFESSIONAL,count:20,revenue:1e4,percentage:63},{tier:s.QV.BASIC,count:9,revenue:3600,percentage:29},{tier:s.QV.ENTERPRISE,count:3,revenue:2200,percentage:8}]},{period:"Mar 2024",newSubscriptions:35,renewedSubscriptions:28,cancelledSubscriptions:8,revenue:19200,averageLifetime:8.8,topTiers:[{tier:s.QV.PROFESSIONAL,count:22,revenue:11e3,percentage:59},{tier:s.QV.BASIC,count:11,revenue:4400,percentage:30},{tier:s.QV.ENTERPRISE,count:4,revenue:3800,percentage:11}]}],c={totalDevices:1247,activeDevices:1089,devicesByPlatform:[{platform:"Windows",count:589,percentage:47.2},{platform:"macOS",count:312,percentage:25},{platform:"Linux",count:203,percentage:16.3},{platform:"iOS",count:98,percentage:7.9},{platform:"Android",count:45,percentage:3.6}],devicesByRegion:[{region:"North America",count:456,percentage:36.6},{region:"Europe",count:398,percentage:31.9},{region:"Asia Pacific",count:289,percentage:23.2},{region:"Latin America",count:67,percentage:5.4},{region:"Middle East & Africa",count:37,percentage:2.9}],averageDevicesPerSubscription:2.8},o=[{period:"2024-01",revenue:45e3,count:150},{period:"2024-02",revenue:52e3,count:175},{period:"2024-03",revenue:58500,count:195},{period:"2024-04",revenue:65e3,count:220},{period:"2024-05",revenue:72e3,count:245},{period:"2024-06",revenue:78e3,count:268}];class u{async getDashboardAnalytics(){return n.x.get(`${this.baseUrl}/dashboard`)}async getSubscriptionAnalytics(e,t,a="day"){return new Promise(e=>{setTimeout(()=>{e({success:!0,data:i,message:"Mock subscription analytics data"})},500)})}async getDeviceAnalytics(e,t){return new Promise(e=>{setTimeout(()=>{e({success:!0,data:c,message:"Mock device analytics data"})},500)})}async getRevenueAnalytics(e,t,a="month"){return new Promise(e=>{setTimeout(()=>{e({success:!0,data:o,message:"Mock revenue analytics data"})},500)})}async getChurnAnalysis(e,t){let a=new URLSearchParams;e&&a.append("start_date",e.toISOString()),t&&a.append("end_date",t.toISOString());let r=`${this.baseUrl}/churn?${a.toString()}`;return n.x.get(r)}async getRetentionAnalysis(e="monthly"){let t=new URLSearchParams;t.append("cohort_type",e);let a=`${this.baseUrl}/retention?${t.toString()}`;return n.x.get(a)}async getGeographicDistribution(){return n.x.get(`${this.baseUrl}/geographic`)}async getTierPerformance(e,t){let a=new URLSearchParams;e&&a.append("start_date",e.toISOString()),t&&a.append("end_date",t.toISOString());let r=`${this.baseUrl}/tiers?${a.toString()}`;return n.x.get(r)}async getFeatureUsage(e,t,a){let r=new URLSearchParams;e&&r.append("subscription_id",e),t&&r.append("start_date",t.toISOString()),a&&r.append("end_date",a.toISOString());let s=`${this.baseUrl}/features?${r.toString()}`;return n.x.get(s)}async getSystemHealth(){return n.x.get(`${this.baseUrl}/system-health`)}async getActivationTrends(e,t,a="day"){let r=new URLSearchParams;e&&r.append("start_date",e.toISOString()),t&&r.append("end_date",t.toISOString()),r.append("group_by",a);let s=`${this.baseUrl}/activations?${r.toString()}`;return n.x.get(s)}async getTopCustomers(e=10,t="revenue"){let a=new URLSearchParams;a.append("limit",e.toString()),a.append("metric",t);let r=`${this.baseUrl}/top-customers?${a.toString()}`;return n.x.get(r)}async generateReport(e,t,a,r="pdf"){let s=new URLSearchParams;s.append("report_type",e),s.append("start_date",t.toISOString()),s.append("end_date",a.toISOString()),s.append("format",r);let i=`${this.baseUrl}/reports?${s.toString()}`,c=`${e}_report_${t.toISOString().split("T")[0]}_to_${a.toISOString().split("T")[0]}.${r}`;await n.x.downloadFile(i,c)}async getRealTimeMetrics(){return n.x.get(`${this.baseUrl}/realtime`)}async getUsagePatterns(e="daily",t,a){let r=new URLSearchParams;r.append("timeframe",e),t&&r.append("start_date",t.toISOString()),a&&r.append("end_date",a.toISOString());let s=`${this.baseUrl}/usage-patterns?${r.toString()}`;return n.x.get(s)}async getForecasting(e,t=12){let a=new URLSearchParams;a.append("metric",e),a.append("periods",t.toString());let r=`${this.baseUrl}/forecast?${a.toString()}`;return n.x.get(r)}constructor(){this.baseUrl="/api/v1/analytics"}}new u;let l=(e=!1,t=3e5)=>{let a=(0,r.useRef)(new u).current,n=(0,r.useRef)(null),s=(0,r.useRef)(null),[i,c]=(0,r.useState)({dashboardData:null,subscriptionAnalytics:[],deviceAnalytics:null,revenueData:[],churnData:null,retentionData:[],geographicData:[],tierPerformance:[],featureUsage:[],systemHealth:null,activationTrends:[],topCustomers:[],realTimeMetrics:null,usagePatterns:[],forecasting:[],isLoadingDashboard:!1,isLoadingSubscriptions:!1,isLoadingDevices:!1,isLoadingRevenue:!1,isLoadingChurn:!1,isLoadingRetention:!1,isLoadingGeographic:!1,isLoadingTiers:!1,isLoadingFeatures:!1,isLoadingHealth:!1,isLoadingActivations:!1,isLoadingCustomers:!1,isLoadingRealTime:!1,isLoadingPatterns:!1,isLoadingForecasting:!1,error:null,lastFetched:{}}),o=(0,r.useCallback)(async(e,t,a,r)=>{c(e=>({...e,[t]:!0,error:null}));try{let n=await e();if(n.success&&void 0!==n.data)return c(e=>({...e,[a]:n.data,[t]:!1,lastFetched:{...e.lastFetched,[r]:new Date},error:null})),{success:!0};{let e=n.error||`Failed to fetch ${r}`;return c(a=>({...a,[t]:!1,error:e})),{success:!1,error:e}}}catch(a){let e=a instanceof Error?a.message:`Failed to fetch ${r}`;return c(a=>({...a,[t]:!1,error:e})),{success:!1,error:e}}},[]),l=(0,r.useCallback)(async()=>o(()=>a.getDashboardAnalytics(),"isLoadingDashboard","dashboardData","dashboard"),[a,o]),g=(0,r.useCallback)(async(e,t,r="day")=>o(()=>a.getSubscriptionAnalytics(e,t,r),"isLoadingSubscriptions","subscriptionAnalytics","subscriptions"),[a,o]),d=(0,r.useCallback)(async(e,t)=>o(()=>a.getDeviceAnalytics(e,t),"isLoadingDevices","deviceAnalytics","devices"),[a,o]),p=(0,r.useCallback)(async(e,t,r="month")=>o(()=>a.getRevenueAnalytics(e,t,r),"isLoadingRevenue","revenueData","revenue"),[a,o]),S=(0,r.useCallback)(async(e,t)=>o(()=>a.getChurnAnalysis(e,t),"isLoadingChurn","churnData","churn"),[a,o]),h=(0,r.useCallback)(async(e="monthly")=>o(()=>a.getRetentionAnalysis(e),"isLoadingRetention","retentionData","retention"),[a,o]),y=(0,r.useCallback)(async()=>o(()=>a.getGeographicDistribution(),"isLoadingGeographic","geographicData","geographic"),[a,o]),m=(0,r.useCallback)(async(e,t)=>o(()=>a.getTierPerformance(e,t),"isLoadingTiers","tierPerformance","tiers"),[a,o]),b=(0,r.useCallback)(async(e,t,r)=>o(()=>a.getFeatureUsage(e,t,r),"isLoadingFeatures","featureUsage","features"),[a,o]),v=(0,r.useCallback)(async()=>o(()=>a.getSystemHealth(),"isLoadingHealth","systemHealth","health"),[a,o]),L=(0,r.useCallback)(async(e,t,r="day")=>o(()=>a.getActivationTrends(e,t,r),"isLoadingActivations","activationTrends","activations"),[a,o]),f=(0,r.useCallback)(async(e=10,t="revenue")=>o(()=>a.getTopCustomers(e,t),"isLoadingCustomers","topCustomers","customers"),[a,o]),C=(0,r.useCallback)(async()=>o(()=>a.getRealTimeMetrics(),"isLoadingRealTime","realTimeMetrics","realtime"),[a,o]),R=(0,r.useCallback)((e=3e4)=>{P(),n.current=setInterval(()=>{C()},e),C()},[C]),P=(0,r.useCallback)(()=>{n.current&&(clearInterval(n.current),n.current=null)},[]),A=(0,r.useCallback)(async(e="daily",t,r)=>o(()=>a.getUsagePatterns(e,t,r),"isLoadingPatterns","usagePatterns","patterns"),[a,o]),T=(0,r.useCallback)(async(e="subscriptions",t=12)=>o(()=>a.getForecasting(e,t),"isLoadingForecasting","forecasting","forecasting"),[a,o]),U=(0,r.useCallback)(async(e,t,r,n="pdf")=>{try{return await a.generateReport(e,t,r,n),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to generate report"}}},[a]),w=(0,r.useCallback)(async()=>{let e=[l(),g(),d(),p(),v(),f()];try{return await Promise.all(e),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to refresh all data"}}},[l,g,d,p,v,f]),I=(0,r.useCallback)(()=>{c(e=>({...e,error:null}))},[]),$=(0,r.useCallback)((e,t=5)=>{let a=i.lastFetched[e];return!a||(new Date().getTime()-a.getTime())/6e4>t},[i.lastFetched]);return(0,r.useEffect)(()=>{if(e)return s.current=setInterval(()=>{w()},t),()=>{s.current&&clearInterval(s.current)}},[e,t,w]),(0,r.useEffect)(()=>()=>{P(),s.current&&clearInterval(s.current)},[P]),(0,r.useEffect)(()=>{l(),v()},[l,v]),{...i,refreshDashboard:l,fetchSubscriptionAnalytics:g,fetchDeviceAnalytics:d,fetchRevenueAnalytics:p,fetchChurnAnalysis:S,fetchRetentionAnalysis:h,fetchGeographicDistribution:y,fetchTierPerformance:m,fetchFeatureUsage:b,fetchSystemHealth:v,fetchActivationTrends:L,fetchTopCustomers:f,fetchRealTimeMetrics:C,startRealTimeUpdates:R,stopRealTimeUpdates:P,fetchUsagePatterns:A,fetchForecasting:T,generateReport:U,refreshAll:w,clearError:I,isDataStale:$}}}};